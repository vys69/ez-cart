(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[565],{3622:function(e,a,t){Promise.resolve().then(t.bind(t,9649))},9649:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return S}});var n=t(7437),s=t(2265),r=t(1266),l=t(883),o=t(2513),i=t(9733),c=t(9354);let d=s.forwardRef((e,a)=>{let{className:t,type:s,...r}=e;return(0,n.jsx)("input",{type:s,className:(0,c.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),ref:a,...r})});d.displayName="Input";var m=t(8185),x=t(9526),u=t(6463),f=t(3304),g=t(4867);let h=f.fC;f.xz;let p=f.h_;f.x8;let b=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,n.jsx)(f.aV,{ref:a,className:(0,c.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s})});b.displayName=f.aV.displayName;let y=s.forwardRef((e,a)=>{let{className:t,children:s,...r}=e;return(0,n.jsxs)(p,{children:[(0,n.jsx)(b,{}),(0,n.jsxs)(f.VY,{ref:a,className:(0,c.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[s,(0,n.jsxs)(f.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,n.jsx)(g.Pxu,{className:"h-4 w-4"}),(0,n.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});y.displayName=f.VY.displayName;let N=e=>{let{className:a,...t}=e;return(0,n.jsx)("div",{className:(0,c.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...t})};N.displayName="DialogHeader";let v=e=>{let{className:a,...t}=e;return(0,n.jsx)("div",{className:(0,c.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...t})};v.displayName="DialogFooter";let w=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,n.jsx)(f.Dx,{ref:a,className:(0,c.cn)("text-lg font-semibold leading-none tracking-tight",t),...s})});w.displayName=f.Dx.displayName;let R=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,n.jsx)(f.dk,{ref:a,className:(0,c.cn)("text-sm text-muted-foreground",t),...s})});function j(e){let{isOpen:a,onClose:t,onConfirm:s,onCancel:r,action:l}=e;return(0,n.jsx)(h,{open:a,onOpenChange:t,children:(0,n.jsxs)(y,{className:"bg-white rounded-lg p-6 max-w-sm mx-auto",children:[(0,n.jsxs)(N,{children:[(0,n.jsx)(w,{className:"text-xl font-semibold text-center text-black",children:"back"===l?"Save Changes?":"Clear List?"}),(0,n.jsx)(R,{className:"text-center mt-2",children:"back"===l?"You have unsaved changes. Do you want to save them before going back?":"Are you sure you want to clear the entire list? This action cannot be undone."})]}),(0,n.jsxs)(v,{className:"flex flex-col space-y-2 mt-6",children:[(0,n.jsx)(i.z,{onClick:s,className:"w-full ".concat("back"===l?"bg-white text-black border border-gray-300 hover:bg-gray-100":"bg-red-600 text-white hover:bg-red-700"),children:"back"===l?"Yes, save":"Yes, clear"}),(0,n.jsx)(i.z,{onClick:r,className:"w-full ".concat("back"===l?"bg-red-600 text-white hover:bg-red-700":"bg-white text-black border border-gray-300 hover:bg-gray-100"),children:"back"===l?"No, discard":"No, keep list"})]})]})})}R.displayName=f.dk.displayName;var k=t(3923);let C=e=>e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});function S(){var e;let a=(0,u.useRouter)(),[t,c]=(0,s.useState)([]),[f,g]=(0,s.useState)(""),[h,p]=(0,s.useState)(""),[b,y]=(0,s.useState)(null),[N,v]=(0,s.useState)(null),[w,R]=(0,s.useState)(!1),[S,z]=(0,s.useState)("back"),[D,I]=(0,s.useState)([]),O=(0,s.useRef)(null),M=(0,s.useRef)(null),Y=(0,s.useRef)(null);(0,s.useEffect)(()=>{let e=localStorage.getItem("currency"),a=localStorage.getItem("state"),t=localStorage.getItem("groceryItems");if(e&&a&&(y(e),v(a)),t){let e=JSON.parse(t);c(e),I(e)}},[]);let E=e=>{localStorage.setItem("groceryItems",JSON.stringify(e))},F=()=>{if(f&&h){let e=[...t,{id:Date.now(),name:f,price:parseFloat(parseFloat(h).toFixed(2))}];c(e),E(e),g(""),p(""),M.current&&M.current.focus(),setTimeout(()=>{O.current&&(O.current.scrollTop=O.current.scrollHeight)},0)}},T=e=>{let a=t.filter(a=>a.id!==e);c(a),E(a)},V=t.reduce((e,a)=>e+a.price,0),_=V*(N&&(null===(e=x.$.find(e=>e.name===N))||void 0===e?void 0:e.taxRate)||0)/100;(0,s.useEffect)(()=>{O.current&&(O.current.scrollTop=O.current.scrollHeight)},[t]);let A=()=>{R(!1),"back"===S&&a.push("/step/2")};return(0,n.jsxs)("div",{className:"min-h-screen bg-gray-100 flex flex-col",children:[(0,n.jsxs)(m.Zb,{className:"flex-grow flex flex-col rounded-none",children:[(0,n.jsxs)(m.Ol,{className:"py-4 flex flex-row items-center justify-between",children:[(0,n.jsx)(i.z,{variant:"ghost",size:"icon",onClick:()=>{let e=JSON.stringify(t)!==JSON.stringify(D),n=""!==f.trim()||""!==h.trim();(0!==t.length||n)&&(e||n)?(z("back"),R(!0)):a.push("/step/2")},className:"h-10 w-10",children:(0,n.jsx)(r.Z,{className:"h-6 w-6"})}),(0,n.jsx)(m.ll,{className:"text-2xl font-bold text-center flex-grow",children:"Cart"}),(0,n.jsx)(i.z,{variant:"ghost",size:"icon",onClick:()=>{t.length>0&&(z("clear"),R(!0))},className:"h-10 w-10",children:(0,n.jsx)(l.Z,{className:"h-6 w-6"})})]}),(0,n.jsx)(m.aY,{className:"flex-grow overflow-hidden flex flex-col relative px-4",children:(0,n.jsx)("ul",{ref:O,className:"flex-grow overflow-y-auto space-y-4 pb-32",children:t.map(e=>(0,n.jsxs)("li",{className:"flex justify-between items-center bg-white p-4 rounded-lg shadow",children:[(0,n.jsx)("span",{className:"text-lg",children:e.name}),(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsxs)("span",{className:"text-lg font-regular",children:[C(e.price)," ",b]}),(0,n.jsx)(i.z,{variant:"destructive",size:"icon",onClick:()=>T(e.id),className:"h-10 w-10",children:(0,n.jsx)(l.Z,{className:"h-5 w-5"})})]})]},e.id))})})]}),(0,n.jsxs)("div",{className:"sticky bottom-0 w-full bg-white border-t border-gray-200 pt-2 relative",children:[(0,n.jsx)(k.P,{side:"bottom",steps:16,strength:32,tint:"rgba(255, 255, 255, 0.8)",style:{position:"absolute",inset:0,transform:"translateY(-100%)",height:"100px",pointerEvents:"none"}}),(0,n.jsxs)("div",{className:"px-4",children:[(0,n.jsxs)("div",{className:"flex flex-col py-2 border-b border-gray-200 mb-2 w-full",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("span",{className:"text-sm text-gray-500",children:"Subtotal:"}),(0,n.jsxs)("span",{className:"text-sm text-gray-500",children:[C(V)," ",b]})]}),(0,n.jsxs)("div",{className:"flex justify-between items-center mt-1",children:[(0,n.jsx)("span",{className:"text-lg font-bold text-gray-800",children:"Total:"}),(0,n.jsxs)("span",{className:"text-lg font-bold text-gray-800",children:[C(V+_)," ",b]})]})]}),(0,n.jsxs)("form",{onSubmit:e=>{e.preventDefault(),F()},className:"flex flex-col space-y-2 pb-4 w-full",children:[(0,n.jsx)(d,{type:"text",placeholder:"Item name",value:f,onChange:e=>g(e.target.value),onKeyDown:e=>{if("Enter"===e.key&&""!==f.trim()){var a;e.preventDefault(),null===(a=Y.current)||void 0===a||a.focus()}},className:"w-full text-lg h-12 text-gray-800 font-normal placeholder-gray-400",ref:M}),(0,n.jsxs)("div",{className:"flex space-x-2 w-full",children:[(0,n.jsx)(d,{type:"text",inputMode:"decimal",placeholder:"Price",value:h,onChange:e=>{let a=e.target.value;/^\d*\.?\d*$/.test(a)&&p(a)},onKeyDown:e=>{"Enter"===e.key&&""!==h.trim()&&(e.preventDefault(),F())},className:"flex-grow text-lg h-12 text-gray-800 font-normal placeholder-gray-400",ref:Y}),(0,n.jsx)(i.z,{type:"submit",size:"icon",className:"h-12 w-12",children:(0,n.jsx)(o.Z,{className:"h-6 w-6"})})]})]})]})]}),(0,n.jsx)(j,{isOpen:w,onClose:A,onConfirm:()=>{R(!1),"back"===S?(E(t),a.push("/step/2")):(c([]),E([]))},onCancel:A,action:S})]})}},9733:function(e,a,t){"use strict";t.d(a,{z:function(){return c}});var n=t(7437),s=t(2265),r=t(1538),l=t(2218),o=t(9354);let i=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,a)=>{let{className:t,variant:s,size:l,asChild:c=!1,...d}=e,m=c?r.g7:"button";return(0,n.jsx)(m,{className:(0,o.cn)(i({variant:s,size:l,className:t})),ref:a,...d})});c.displayName="Button"},8185:function(e,a,t){"use strict";t.d(a,{Ol:function(){return o},Zb:function(){return l},aY:function(){return c},ll:function(){return i}});var n=t(7437),s=t(2265),r=t(9354);let l=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,n.jsx)("div",{ref:a,className:(0,r.cn)("rounded-xl border bg-card text-card-foreground shadow",t),...s})});l.displayName="Card";let o=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,n.jsx)("div",{ref:a,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",t),...s})});o.displayName="CardHeader";let i=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,n.jsx)("h3",{ref:a,className:(0,r.cn)("font-semibold leading-none tracking-tight",t),...s})});i.displayName="CardTitle",s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,n.jsx)("p",{ref:a,className:(0,r.cn)("text-sm text-muted-foreground",t),...s})}).displayName="CardDescription";let c=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,n.jsx)("div",{ref:a,className:(0,r.cn)("p-6 pt-0",t),...s})});c.displayName="CardContent",s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,n.jsx)("div",{ref:a,className:(0,r.cn)("flex items-center p-6 pt-0",t),...s})}).displayName="CardFooter"},9526:function(e,a,t){"use strict";t.d(a,{$:function(){return n}});let n=[{name:"Alabama",taxRate:4},{name:"Alaska",taxRate:0},{name:"Arizona",taxRate:5.6},{name:"Arkansas",taxRate:6.5},{name:"California",taxRate:7.25},{name:"Colorado",taxRate:2.9},{name:"Connecticut",taxRate:6.35},{name:"Delaware",taxRate:0},{name:"District of Columbia",taxRate:6},{name:"Florida",taxRate:6},{name:"Georgia",taxRate:4},{name:"Guam",taxRate:0},{name:"Hawaii",taxRate:4},{name:"Idaho",taxRate:6},{name:"Illinois",taxRate:6.25},{name:"Indiana",taxRate:7},{name:"Iowa",taxRate:6},{name:"Kansas",taxRate:6.5},{name:"Kentucky",taxRate:6},{name:"Louisiana",taxRate:4.45},{name:"Maine",taxRate:5.5},{name:"Maryland",taxRate:6},{name:"Massachusetts",taxRate:6.25},{name:"Michigan",taxRate:6},{name:"Minnesota",taxRate:6.88},{name:"Mississippi",taxRate:7},{name:"Missouri",taxRate:4.23},{name:"Montana",taxRate:0},{name:"Nebraska",taxRate:5.5},{name:"Nevada",taxRate:6.85},{name:"New Hampshire",taxRate:0},{name:"New Jersey",taxRate:6.63},{name:"New Mexico",taxRate:5},{name:"New York",taxRate:4},{name:"North Carolina",taxRate:4.75},{name:"North Dakota",taxRate:5},{name:"Ohio",taxRate:5.75},{name:"Oklahoma",taxRate:4.5},{name:"Oregon",taxRate:0},{name:"Pennsylvania",taxRate:6},{name:"Puerto Rico",taxRate:6},{name:"Rhode Island",taxRate:7},{name:"South Carolina",taxRate:6},{name:"South Dakota",taxRate:4.5},{name:"Tennessee",taxRate:7},{name:"Texas",taxRate:6.25},{name:"Utah",taxRate:6.1},{name:"Vermont",taxRate:6},{name:"Virginia",taxRate:5.3},{name:"Washington",taxRate:6.5},{name:"West Virginia",taxRate:6},{name:"Wisconsin",taxRate:5},{name:"Wyoming",taxRate:4}]},9354:function(e,a,t){"use strict";t.d(a,{cn:function(){return r}});var n=t(4839),s=t(6164);function r(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,s.m6)((0,n.W)(a))}}},function(e){e.O(0,[310,912,575,971,23,744],function(){return e(e.s=3622)}),_N_E=e.O()}]);